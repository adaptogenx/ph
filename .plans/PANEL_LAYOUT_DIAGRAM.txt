# GoldPH v0.9.0 - Rectangular Panel Layout

## Frame Dimensions

Collapsed:  266px Ã— 54px
Expanded:   340px Ã— dynamic height

## Expanded Panel Layout (340px wide)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  pH    2h 34m                                    [âˆ’] [||]    â”‚  Header (always visible)
â”‚  124g | 2h 34m                                              â”‚  Timer + Gold summary
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚  GOLD PANEL
â”‚  â•‘ ğŸ’° GOLD                          Total: 1,245g        â•‘ â”‚  (full width: 316px)
â”‚  â•‘                                                       â•‘ â”‚  (height: 140px)
â”‚  â•‘ 485g/hr          1,245g (raw)                        â•‘ â”‚
â”‚  â•‘                                                       â•‘ â”‚
â”‚  â•‘ Raw Gold           178g/hr    512g         41%       â•‘ â”‚
â”‚  â•‘ Vendor Trash       124g/hr    356g         29%       â•‘ â”‚
â”‚  â•‘ AH / Rare Items     95g/hr    267g         21%       â•‘ â”‚
â”‚  â•‘ Gathering           78g/hr    98g           8%       â•‘ â”‚
â”‚  â•‘ Pickpocketing       10g/hr    12g           1%       â•‘ â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                             â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚  MIDDLE ROW
â”‚  â•‘ ğŸ“– XP  Total: 45,230  â•‘  â•‘ ğŸ– REPUTATION  Total: +680â•‘  â”‚  (XP left, Rep right)
â”‚  â•‘                       â•‘  â•‘                           â•‘  â”‚  (each 155px Ã— 80px)
â”‚  â•‘ 17,554/hr   45,230 XP â•‘  â•‘ +264/hr                   â•‘  â”‚
â”‚  â•‘                       â•‘  â•‘                           â•‘  â”‚
â”‚  â•‘                       â•‘  â•‘ Stormwind      +142/hr    â•‘  â”‚
â”‚  â•‘                       â•‘  â•‘ Ironforge       +98/hr    â•‘  â”‚
â”‚  â•‘                       â•‘  â•‘ +2 moreâ€¦                  â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                             â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•— â”‚  HONOR PANEL
â”‚  â•‘ âš” HONOR                        Total: 1,240         â•‘ â”‚  (full width: 316px)
â”‚  â•‘                                                       â•‘ â”‚  (height: 90px)
â”‚  â•‘ 482/hr           1,240 honor                         â•‘ â”‚  (conditional)
â”‚  â•‘                                                       â•‘ â”‚
â”‚  â•‘ [Breakdown rows - future enhancement]                â•‘ â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## Panel Visibility Rules

1. Gold Panel: ALWAYS shown
2. XP Panel: Hidden if max level OR xpGained == 0
3. Rep Panel: ALWAYS shown when expanded
4. Honor Panel: Hidden if honorGained == 0

## Dynamic Positioning

Honor Panel position depends on XP visibility:
- If XP shown: Honor below XP (left side alignment)
- If XP hidden: Honor below Gold panel (full width)

## Collapsed Layout (266px Ã— 54px)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  pH    2h 34m                           [+] [||]       â”‚
â”‚                                                        â”‚
â”‚  ğŸ’° 124g  ğŸ– +14  ğŸ“– 5.4k  âš” 482                       â”‚
â”‚  â–“â–“â–“â–“â–‘    â–“â–“â–‘â–‘â–‘   â–“â–“â–“â–‘â–‘    â–“â–“â–“â–‘â–‘                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Micro-bars remain unchanged from v0.8.1.

## Breakdown Row Format

Each breakdown row (14px height) shows:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Label            â”‚ Per-hour â”‚ Total    â”‚ Percent â”‚
â”‚ (left-aligned)   â”‚ (120px)  â”‚ (190px)  â”‚ (right) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example:
Raw Gold           178g/hr    512g         41%
Vendor Trash       124g/hr    356g         29%

## Color Scheme (pH Brand)

- Background: PH_BG_DARK (dark parchment, 0.85 alpha)
- Border: PH_BORDER_BRONZE (bronze, 0.9 alpha)
- Primary text: PH_TEXT_PRIMARY (cream)
- Secondary text: PH_TEXT_MUTED (muted beige)
- Icons: Full color, full opacity

## Container Height Calculation

```lua
local containerHeight = 140  -- Gold panel base
if xpPanel:IsShown() or repPanel:IsShown() then
    containerHeight = containerHeight + 6 + 80  -- Middle row
end
if honorPanel:IsShown() then
    containerHeight = containerHeight + 6 + 90  -- Honor panel
end
```

Possible heights:
- Gold only: 140px
- Gold + Middle: 226px (140 + 6 + 80)
- Gold + Middle + Honor: 322px (140 + 6 + 80 + 6 + 90)
- Gold + Honor (XP hidden): 236px (140 + 6 + 90)

## Implementation Notes

- All panels use `CreateMetricPanel()` helper
- Breakdown rows use `AddBreakdownRow()` helper
- Zero-value categories are automatically hidden
- Per-hour rates calculated using `durationSec / 3600`
- Percentages calculated relative to category total (e.g., gold total)
- No trend indicators (â–² â–¬ â–¼) per PRD specification
